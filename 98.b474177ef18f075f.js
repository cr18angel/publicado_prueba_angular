"use strict";(self.webpackChunkheroesApp=self.webpackChunkheroesApp||[]).push([[98],{1117:(P,Z,o)=>{o.d(Z,{o:()=>T});var e=o(4650),d=o(6895),R=o(9299),l=o(4859),t=o(7392),b=o(6338),c=o(3267),A=o(3683),s=o(3162);class a{}function u(g,p){if(1&g){const h=e.EpF();e.TgZ(0,"mat-list-item",9),e.NdJ("click",function(){e.CHM(h),e.oxw();const f=e.MAs(2);return e.KtG(f.toggle())}),e.TgZ(1,"mat-icon",10),e._uU(2),e.qZA(),e._uU(3),e.qZA()}if(2&g){const h=p.$implicit;e.Q6J("routerLink",h.url),e.xp6(2),e.Oqu(h.icon),e.xp6(1),e.hij(" ",h.label," ")}}a.\u0275fac=function(p){return new(p||a)},a.\u0275cmp=e.Xpm({type:a,selectors:[["app-spinner"]],decls:1,vars:0,consts:[["color","accent","mode","indeterminate"]],template:function(p,h){1&p&&e._UZ(0,"mat-progress-bar",0)},dependencies:[s.pW]});const m=function(){return{width:"250px"}};class T{constructor(){this.sidebarItems=[{label:"Listado",icon:"label",url:"/maquinas/list"},{label:"Listado Repuestos",icon:"label",url:"/repuestos/list"},{label:"Repuestos Venta",icon:"label",url:"/repuestos-venta/list"},{label:"Cotizacion",icon:"label",url:"/repuestos-venta/quote"},{label:"formulario",icon:"dashboard",url:"/general/form"},{label:"A\xf1adir",icon:"add",url:"./new-maquina"},{label:"Buscar",icon:"search",url:"./search"}]}}T.\u0275fac=function(p){return new(p||T)},T.\u0275cmp=e.Xpm({type:T,selectors:[["app-layout-page"]],decls:22,vars:3,consts:[["fullscreen",""],["mode","push",3,"ngStyle"],["sidenav",""],[1,"spacer"],["mat-icon-button","",3,"click"],[3,"routerLink","click",4,"ngFor","ngForOf"],["color","primary"],["routerLink","/auth/login","mat-button",""],[1,"container","p-3"],[3,"routerLink","click"],["matListItemIcon",""]],template:function(p,h){if(1&p){const L=e.EpF();e.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav",1,2)(3,"mat-toolbar")(4,"span"),e._uU(5,"Men\xfa"),e.qZA(),e._UZ(6,"span",3),e.TgZ(7,"button",4),e.NdJ("click",function(){e.CHM(L);const I=e.MAs(2);return e.KtG(I.toggle())}),e.TgZ(8,"mat-icon"),e._uU(9,"menu"),e.qZA()()(),e.TgZ(10,"mat-nav-list"),e.YNc(11,u,4,3,"mat-list-item",5),e.qZA()(),e.TgZ(12,"mat-toolbar",6)(13,"button",4),e.NdJ("click",function(){e.CHM(L);const I=e.MAs(2);return e.KtG(I.toggle())}),e.TgZ(14,"mat-icon"),e._uU(15,"menu"),e.qZA()(),e._UZ(16,"span",3),e.TgZ(17,"button",7),e._uU(18," Logout "),e.qZA()(),e._UZ(19,"app-spinner"),e.TgZ(20,"div",8),e._UZ(21,"router-outlet"),e.qZA()()}2&p&&(e.xp6(1),e.Q6J("ngStyle",e.DdM(2,m)),e.xp6(10),e.Q6J("ngForOf",h.sidebarItems))},dependencies:[d.sg,d.PC,R.lC,R.rH,l.lW,l.RK,t.Hw,b.Hk,b.Tg,b.Yt,c.JX,c.TM,A.Ye,a],encapsulation:2})},6098:(P,Z,o)=>{o.r(Z),o.d(Z,{RelacionesModule:()=>y});var e=o(6895),d=o(9299),R=o(1117),l=o(4006),t=o(4650),b=o(7498),c=o(6338),A=o(4850),s=o(3546),a=o(4859),u=o(9549),m=o(4144),T=o(4385),g=o(3238),p=o(8505),h=o(8181),L=o(529);class f{constructor(n){this.http=n,this.baseUrl=h.T.baseUrl}addRelacion(n){return this.http.post(`${this.baseUrl}/maquina_repuesto`,n)}}function I(r,n){if(1&r&&(t.TgZ(0,"mat-list-option",5),t._uU(1),t.qZA()),2&r){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.AsE(" ",i.partNumber," ",i.descripcion," ")}}f.\u0275fac=function(n){return new(n||f)(t.LFG(L.eN))},f.\u0275prov=t.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"});class M{constructor(n,i,v){this._relacionService=n,this.getRepuesto=i,this.activedRoute=v,this.allRepuestos=[],this.listResult=[],this.final=[]}ngOnInit(){this.getRepuestos()}getRepuestos(){this.getRepuesto.getRepuestos().subscribe(n=>{this.allRepuestos=n.data,this.activedRoute.params.pipe((0,p.b)(({id:i})=>{this.maquinaId=i,console.log(this.maquinaId)})).subscribe()})}getSelectedItems(){this.fatherList.selectedOptions.selected.forEach(n=>{this.listResult=n.value;const i=this.listResult,v={heroesId:this.maquinaId.toString(),repuestosId:i.toString()};this._relacionService.addRelacion(v).subscribe(N=>{console.log("Relacion Agregada",N)})})}}function S(r,n){if(1&r&&(t.TgZ(0,"mat-option",14),t._uU(1),t.qZA()),2&r){const i=n.$implicit;t.Q6J("value",i),t.xp6(1),t.Oqu(i)}}M.\u0275fac=function(n){return new(n||M)(t.Y36(f),t.Y36(b.R),t.Y36(d.gz))},M.\u0275cmp=t.Xpm({type:M,selectors:[["table-relacion"]],viewQuery:function(n,i){if(1&n&&t.Gf(c.Ub,5),2&n){let v;t.iGM(v=t.CRH())&&(i.fatherList=v.first)}},decls:11,vars:2,consts:[["fatherList",""],[3,"value",4,"ngFor","ngForOf"],["mat-raised-button","",3,"click"],["mat-stroked-button","","color","primary","routerLink","/maquinas/list"],["mat-stroked-button","","color","primary"],[3,"value"]],template:function(n,i){if(1&n&&(t.TgZ(0,"mat-selection-list",null,0),t.YNc(2,I,2,3,"mat-list-option",1),t.qZA(),t.TgZ(3,"p"),t._uU(4),t.qZA(),t.TgZ(5,"button",2),t.NdJ("click",function(){return i.getSelectedItems()}),t._uU(6,"Obtener elementos seleccionados"),t.qZA(),t.TgZ(7,"button",3),t._uU(8,"Cancelar"),t.qZA(),t.TgZ(9,"button",4),t._uU(10,"Cargar Repuestos"),t.qZA()),2&n){const v=t.MAs(1);t.xp6(2),t.Q6J("ngForOf",i.allRepuestos),t.xp6(2),t.hij(" Options selected: ",v.selectedOptions.selected.length," ")}},dependencies:[e.sg,d.rH,c.Ub,c.vS,a.lW]});class U{constructor(n){this._respuestoService=n,this.searchInput=new l.NI(""),this.repuestos=[],this.lineas=new l.NI(""),this.lineasList=[]}ngOnInit(){this.searchRepuesto()}searchRepuesto(){this._respuestoService.getRepuestos({id:this.searchInput.value||""}).subscribe(i=>{this.repuestos=Array.isArray(i.data)?i.data:[i.data]}),this._respuestoService.getFilterLineas().subscribe(i=>this.lineasList=i)}}U.\u0275fac=function(n){return new(n||U)(t.Y36(b.R))},U.\u0275cmp=t.Xpm({type:U,selectors:[["app-list-relaciones"]],decls:34,vars:4,consts:[[1,"grid","p-3"],[1,"col-6","sm:col-6"],["mat-card-image","",3,"src"],[2,"display","flex","justify-content","space-between","flex-wrap","wrap"],["appearance","outline"],["multiple","",3,"formControl"],[3,"value",4,"ngFor","ngForOf"],[2,"display","flex","justify-content","flex-end"],["mat-flat-button","","color","primary",2,"margin","1px","padding","2px"],[2,"min-width","250px","max-width","500px","width","100%"],["appearance","outline",2,"width","100%"],["type","text","placeholder","Part Number","matInput","","matListItemIcon","search",3,"formControl","keyup.enter"],["matSuffix",""],[2,"padding","0.5rem"],[3,"value"]],template:function(n,i){1&n&&(t.TgZ(0,"h1"),t._uU(1,"Seleccion de Repuestos"),t.qZA(),t._UZ(2,"mat-divider"),t.TgZ(3,"div",0)(4,"mat-card",1)(5,"mat-card-header")(6,"mat-card-title"),t._uU(7," nombre "),t.qZA(),t.TgZ(8,"mat-card-subtitle"),t._uU(9,"nombre. subtitle"),t.qZA()(),t._UZ(10,"img",2),t.qZA(),t.TgZ(11,"mat-card",1)(12,"h1"),t._uU(13,"Selecciona los repuestos asociados "),t.qZA(),t.TgZ(14,"div",3)(15,"mat-form-field",4)(16,"mat-label")(17,"strong"),t._uU(18,"Linea Negocio"),t.qZA()(),t.TgZ(19,"mat-select",5),t.YNc(20,S,2,2,"mat-option",6),t._UZ(21,"mat-divider"),t.TgZ(22,"div",7),t._UZ(23,"button",8),t.qZA()()(),t.TgZ(24,"form",9)(25,"mat-form-field",10)(26,"mat-label"),t._uU(27,"Buscador"),t.qZA(),t.TgZ(28,"input",11),t.NdJ("keyup.enter",function(){return i.searchRepuesto()}),t.qZA(),t.TgZ(29,"mat-icon",12),t._uU(30,"search"),t.qZA()()()(),t._UZ(31,"mat-divider"),t.TgZ(32,"div",13),t._UZ(33,"table-relacion"),t.qZA()()()),2&n&&(t.xp6(10),t.Q6J("src","assets/heroes/1.jpg",t.LSH),t.xp6(9),t.Q6J("formControl",i.lineas),t.xp6(1),t.Q6J("ngForOf",i.lineasList),t.xp6(8),t.Q6J("formControl",i.searchInput))},dependencies:[e.sg,c.Yt,A.d,s.a8,s.dk,s.G2,s.$j,s.n5,a.lW,u.KE,u.hX,u.R9,m.Nt,T.gD,g.ey,l._Y,l.Fj,l.JJ,l.JL,l.oH,M]});const O=[{path:"",component:R.o,children:[{path:"list/:id",component:U},{path:":id",component:U},{path:"**",redirectTo:"list"}]}];class C{}C.\u0275fac=function(n){return new(n||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({imports:[d.Bz.forChild(O),d.Bz]});var E=o(4466),x=o(5412),F=o(1572);class y{}y.\u0275fac=function(n){return new(n||y)},y.\u0275mod=t.oAB({type:y}),y.\u0275inj=t.cJS({imports:[e.ez,C,c.ie,E.m,s.QW,x.Is,a.ot,F.Cq,u.lN,m.c,T.LD,l.UX]})},7498:(P,Z,o)=>{o.d(Z,{R:()=>c});var e=o(529),d=o(4004),R=o(262),l=o(9646),t=o(8181),b=o(4650);class c{constructor(s){this.http=s,this.baseUrl=t.T.baseUrl,this.baseUrlC=t.T.baseApi,this.endpointLinea="Input/linea"}uploadImage(s){return this.http.post(`${this.baseUrlC}/ImageRepuesto`,s)}getRepuesto(){return this.http.get(`${this.baseUrl}/repuestos`)}getRepuestoPrueba(s,a){return this.http.get(`${this.baseUrlC}/Repuesto?Pagina=`+s+"&CantidadRegistrosPorPagina="+a,{observe:"response"}).pipe((0,d.U)(u=>{const m=u.headers.get("cantidadTotalRegistros");return console.log(`Cantidad de Registros: ${m}`),{data:u.body,cantidadTotalRegistros:m}}))}getRepuestos(s){let a=new e.LE;return null!=s?.pageNumber&&(a=a.set("Pagina",s.pageNumber.toString())),null!=s?.pageSize&&(a=a.set("CantidadRegistrosPorPagina",s.pageSize.toString())),s?.id&&(a=a.set("id",s.id)),s?.stock&&(a=a.set("stock",s.stock)),s?.filtroNombreOrMarca&&(a=a.set("filtro",s.filtroNombreOrMarca)),this.http.get(`${this.baseUrlC}/Repuesto`,{params:a,observe:"response"}).pipe((0,d.U)(u=>{const m=u.headers.get("cantidadTotalRegistros");return console.log(`Cantidad de Registros: ${m}`),{data:u.body,cantidadTotalRegistros:m}}))}getFilterLineas(){return this.http.get("https://localhost:7056/api/Input/linea")}getNewRepuestoById(s){return this.http.get(`${this.baseUrlC}/Repuesto?id=${s}`).pipe((0,R.K)(a=>(0,l.of)(void 0)))}getRepuestoById(s){return this.http.get(`${this.baseUrlC}/Repuesto?id=${s}`).pipe((0,R.K)(a=>(0,l.of)(void 0)))}getRepuestoByMaquinaId(s){return this.http.get(`${this.baseUrl}/maquina_repuesto?heroesId=${s}&_expand=repuestos`).pipe((0,R.K)(a=>(0,l.of)(void 0)))}addRespuesto(s){return this.http.post(`${this.baseUrl}/repuestos`,s)}updateRepuesto(s){if(!s.id)throw Error("Repuesto id is required");return this.http.patch(`${this.baseUrl}/repuestos/${s.id}`,s)}deleteRepuestoById(s){return this.http.delete(`${this.baseUrl}/repuestos/${s}`).pipe((0,d.U)(a=>!0),(0,R.K)(a=>(0,l.of)(!1)))}}c.\u0275fac=function(s){return new(s||c)(b.LFG(e.eN))},c.\u0275prov=b.Yz7({token:c,factory:c.\u0275fac,providedIn:"root"})},8181:(P,Z,o)=>{o.d(Z,{T:()=>e});const e={baseUrl:"http://192.168.0.14:7056/api",baseApi:"http://192.168.0.14:7056/api",endPointMaquina:"/maquina/",endPiintRepuesto:"/repuesto/"}}}]);